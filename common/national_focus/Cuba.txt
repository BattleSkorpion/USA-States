focus_tree = {
    id = cuba_focus

    country = {
        factor = 0

        modifier = {
            add = 10
            tag = CUB
        }
    }
    default = no

#######################################
############Industrial Shit############
#######################################
    focus = {
        id = CUB_expand_our_industry
        icon = GFX_
        x = 6
        y = 0
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
        
        completion_reward = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = Industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = industry
            }
        }
    }
    focus = {
        id = CUB_invest_in_pinar_del_rio
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_industry}
        available = {
            controls_state = 603
        }
        x = -6
        y = 1
        relative_position_id = CUB_expand_our_industry
        cost = 5
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            603 = {
                add_extra_state_shared_building_slots = 2
                hidden_effect = {
                    set_state_flag = CUB_has_been_invested_in
                }
            }
        }
    }
    focus = {
        id = CUB_invest_in_havana
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_industry}
        available = {
            controls_state = 478
        }
        x = -4
        y = 1
        relative_position_id = CUB_expand_our_industry
        cost = 5
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            478 = {
                add_extra_state_shared_building_slots = 2
                hidden_effect = {
                    set_state_flag = CUB_has_been_invested_in
                }
            }
        }
    }
    focus = {
        id = CUB_invest_in_juventud
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_industry}
        available = {
            controls_state = 607
        }
        x = -2
        y = 1
        relative_position_id = CUB_expand_our_industry
        cost = 5
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            607 = {
                add_extra_state_shared_building_slots = 2
                hidden_effect = {
                    set_state_flag = CUB_has_been_invested_in
                }
            }
        }
    }
    focus = {
        id = CUB_invest_in_camaguey
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_industry}
        available = {
            controls_state = 606
        }
        x = 0
        y = 1
        relative_position_id = CUB_expand_our_industry
        cost = 5
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            606 = {
                add_extra_state_shared_building_slots = 2
                hidden_effect = {
                    set_state_flag = CUB_has_been_invested_in
                }
            }
        }
    }
    focus = {
        id = CUB_invest_in_holguin
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_industry}
        available = {
            controls_state = 477
        }
        x = 2
        y = 1
        relative_position_id = CUB_expand_our_industry
        cost = 5
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            477 = {
                add_extra_state_shared_building_slots = 2
                hidden_effect = {
                    set_state_flag = CUB_has_been_invested_in
                }
            }
        }
    }
    focus = {
        id = CUB_finish_investments
        icon = GFX_
        prerequisite = { focus = CUB_invest_in_holguin focus = CUB_invest_in_camaguey focus = CUB_invest_in_juventud focus = CUB_invest_in_havana focus = CUB_invest_in_pinar_del_rio }
        x = -2
        y = 2
        relative_position_id = CUB_expand_our_industry
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            every_controlled_state = {
                limit = {
                    has_state_flag = CUB_has_been_invested_in
                }
                add_building_construction = {
                    type = Industrial_complex
                    level = 2
                    instant_build = yes
                }
                hidden_effect = {
                    clr_state_flag = CUB_has_been_invested_in
                }
            }
        }
    }
    focus = {
        id = CUB_invest_in_our_military_industry
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_industry}
        x = 5
        y = 1
        relative_position_id = CUB_expand_our_industry
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = arms_factory
                    level = 3
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = CUB_prioritize_havana_arms_production
        icon = GFX_
        prerequisite = { focus = CUB_invest_in_our_military_industry}
        mutually_exclusive = { focus = CUB_prioritize_holguin_arms_production}
        available = {
            controls_state = 478
        }
        x = -1
        y = 1
        relative_position_id = CUB_invest_in_our_military_industry
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            478 = {
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = arms_factory
                    level = 3
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = CUB_prioritize_holguin_arms_production
        icon = GFX_
        prerequisite = { focus = CUB_invest_in_our_military_industry}
        mutually_exclusive = { focus = CUB_prioritize_havana_arms_production}
        available = {
            controls_state = 477
        }
        x = 1
        y = 1
        relative_position_id = CUB_invest_in_our_military_industry
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            477 = {
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = arms_factory
                    level = 3
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = CUB_cuban_armed_forces
        icon = GFX_
        x = 18
        y = 0
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = infantry_tech
            }
        }
    }
    focus = {
        id = CUB_motorized_designs
        icon = GFX_
        prerequisite = { focus = CUB_cuban_armed_forces}
        x = -2
        y = 1
        relative_position_id = CUB_cuban_armed_forces
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 1
                category = motorized_equipment
            }
        }
    }
    focus = {
        id = CUB_invest_in_tanks
        icon = GFX_
        prerequisite = { focus = CUB_motorized_designs}
        prerequisite = { focus = CUB_invest_in_our_military_industry}
        x = -2
        y = 1
        relative_position_id = CUB_motorized_designs
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = armor
            }
        }
    }
    focus = {
        id = CUB_invest_in_mechanized
        icon = GFX_
        prerequisite = { focus = CUB_motorized_designs}
        prerequisite = { focus = CUB_invest_in_our_military_industry}
        x = 0
        y = 1
        relative_position_id = CUB_motorized_designs
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = cat_mechanized_equipment
            }
        }
    }
    focus = {
        id = CUB_new_infantry_weapons
        icon = GFX_
        prerequisite = { focus = CUB_cuban_armed_forces}
        x = 0
        y = 1
        relative_position_id = CUB_cuban_armed_forces
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = infantry_tech
            }
            add_equipment_to_stockpile = {
                type = infantry_equipment
                amount = 1000
            }
        }
    }
    focus = {
        id = CUB_bigger_guns
        icon = GFX_
        prerequisite = { focus = CUB_new_infantry_weapons}
        x = 0
        y = 2
        relative_position_id = CUB_cuban_armed_forces
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = artillery
            }
        }
    }
    focus = {
        id = CUB_fan_nationalism
        icon = GFX_
        prerequisite = { focus = CUB_cuban_armed_forces}
        x = 2
        y = 1
        relative_position_id = CUB_cuban_armed_forces
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_MANPOWER }

        completion_reward = {
            add_ideas = militarism_focus
        }
    }
    focus = {
        id = CUB_expand_our_navy
        icon = GFX_
        x = 24
        y = 0
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 2
                category = naval_equipment
            }
            navy_experience = 25
        }
    }
    focus = {
        id = CUB_an_invasion_force
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_navy}
        x = -2
        y = 1
        relative_position_id = CUB_expand_our_navy
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = tp_tech
            }
        }
    }
    focus = {
        id = CUB_invest_in_marines
        icon = GFX_
        prerequisite = { focus = CUB_an_invasion_force}
        prerequisite = { focus = CUB_new_infantry_weapons}
        x = 0
        y = 1
        relative_position_id = CUB_an_invasion_force
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = marine_tech
            }
        }
    }
    focus = {
        id = CUB_marine_supremacy
        icon = GFX_
        prerequisite = { focus = CUB_invest_in_marines}
        x = 0
        y = 2
        relative_position_id = CUB_an_invasion_force
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        
        completion_reward = {
            add_ideas = CUB_marine_supremacy
        }
    }
    focus = {
        id = CUB_invest_in_submarines
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_navy}
        x = 0
        y = 1
        relative_position_id = CUB_expand_our_navy
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = ss_tech
            }
            navy_experience = 25
        }
    }
    focus = {
        id = CUB_invest_in_destroyers
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_navy}
        x = 2
        y = 1
        relative_position_id = CUB_expand_our_navy
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = dd_tech
            }
            navy_experience = 25
        }
    }
    focus = {
        id = CUB_advanced_mine_laying_techniques
        icon = GFX_
        prerequisite = { focus = CUB_invest_in_submarines}
        x = 0
        y = 2
        relative_position_id = CUB_expand_our_navy
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    bonus = 1
                    uses = 2
                    category = naval_minelaying
                    category = naval_minesweeping
                }
            }
            if = {
                limit = {
                    NOT = {
                        has_dlc = "Man the Guns"
                    }
                }
                add_tech_bonus = {
                    bonus = 1
                    uses = 1
                    ahead_reduction = 2
                    category = ss_tech
                }
            }
            navy_experience = 25
        }
    }
    focus = {
        id = CUB_new_torpedo_designs
        icon = GFX_
        prerequisite = { focus = CUB_invest_in_submarines focus = CUB_invest_in_destroyers}
        x = 2
        y = 2
        relative_position_id = CUB_expand_our_navy
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    bonus = 1
                    uses = 2
                    ahead_reduction = 2
                    technology = basic_torpedo
                    technology = improved_ship_torpedo_launcher
                    technology = advanced_ship_torpedo_launcher
                    technology = modern_ship_torpedo_launcher
                }
            }
            if = {
                limit = {
                    NOT = {
                        has_dlc = "Man the Guns"
                    }
                }
                add_tech_bonus = {
                    bonus = 1
                    uses = 1
                    ahead_reduction = 2
                    category = ss_tech
                    category = dd_tech
                }
            }
            navy_experience = 25
        }
    }
    focus = {
        id = CUB_capital_ships
        icon = GFX_
        prerequisite = { focus = CUB_expand_our_navy}
        x = 4
        y = 1
        relative_position_id = CUB_expand_our_navy
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = bb_tech
            }
            navy_experience = 25
        }
    }
    focus = {
        id = CUB_invest_in_cruisers
        icon = GFX_
        prerequisite = { focus = CUB_capital_ships}
        x = 4
        y = 2 
        relative_position_id = CUB_expand_our_navy
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                ahead_reduction = 2
                category = bc_tech
            }
            navy_experience = 25
        }
    }
    focus = {
        id = CUB_caribbean_naval_power
        icon = GFX_
        prerequisite = { focus = CUB_marine_supremacy}
        prerequisite = { focus = CUB_new_torpedo_designs focus = CUB_advanced_mine_laying_techniques focus = CUB_invest_in_cruisers}
        x = 0
        y = 4
        relative_position_id = CUB_expand_our_navy
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        
        completion_reward = {
            add_ideas = CUB_caribbean_naval_power
        }
    }
}