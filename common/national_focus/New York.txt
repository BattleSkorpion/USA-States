focus_tree = {
    id = new_york_focus_tree

    country = {
        factor = 0
        modifier = {
            add = 10
            tag = SNY
        }
    }

    continuous_focus_position = { x = 50 y = 2000 }

#FOCUS_FILTER_STABILITY
#FOCUS_FILTER_INDUSTRY
#FOCUS_FILTER_ANNEXATION
#FOCUS_FILTER_MANPOWER
#FOCUS_FILTER_POLITICAL
#FOCUS_FILTER_RESEARCH
#FOCUS_FILTER_WAR_SUPPORT
    
#################################################
###   Holy Shit the Country is Falling Apart  ###
#################################################
    focus = {
        id = SNY_the_attack_on_albany
        icon = GFX_
        available = {
            custom_trigger_tooltip = {
                tooltip = SNY_attack_on_albany_has_occured_tt
                has_country_flag = SNY_attack_on_albany
            }
        }
        bypass = {
            hidden_trigger = {
                has_country_flag = SNY_attack_on_albany
            }
        }
        x = 50
        y = 0
        cost = 10
        ai_will_do = {
            factor = 0
        }
        available_if_capitulated = no
    }
    focus = {
        id = SNY_postpone_the_elections
        icon = GFX_
        prerequisite = { focus = SNY_the_attack_on_albany}
        mutually_exclusive = { focus = SNY_the_elections_must_continue}
        x = -20
        y = 1
        relative_position_id = SNY_the_attack_on_albany
        cost = 10
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no
        
        completion_reward = {
            swap_ideas = {
                add_idea = SNY_failing_democracy
                remove_idea = SNY_self_proclaimed_bastion_of_democracy
            }
            hidden_effect = {
                country_event = {
                    id = new_york.7
                }
            }
        }
    }
    focus = {
        id = SNY_jay_lovestone_makes_a_speech
        icon = GFX_
        prerequisite = { focus = SNY_postpone_the_elections}
        mutually_exclusive = { focus = SNY_charles_poletti_makes_a_speech}
        mutually_exclusive = { focus = SNY_the_army_makes_a_demonstration}
        x = -10
        y = 1
        relative_position_id = SNY_postpone_the_elections
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.1
            }
            country_event = {
                id = new_york.8
            }
        }
    }
    focus = {
        id = SNY_approach_communist_senators
        icon = GFX_
        prerequisite = { focus = SNY_jay_lovestone_makes_a_speech}
        x = -2
        y = 1
        relative_position_id = SNY_jay_lovestone_makes_a_speech
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.1
            }
            country_event = {
                id = new_york.12
            }
        }
    }
    focus = {
        id = SNY_create_the_independent_labor_league_of_new_york
        icon = GFX_
        prerequisite = { focus = SNY_approach_communist_senators}
        x = 0
        y = 1
        relative_position_id = SNY_approach_communist_senators
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            create_country_leader = {
                name = "Jay Lovestone"
                picture = "gfx//leaders//SNY//leader_Jay_Lovestone.dds"
                expire = "1965.1.1"
                ideology = anti_revisionism
                traits = {
                    anti_stalinist
                }
            }
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            country_event = {
                id = new_york.16
            }
        }
    }
    focus = {
        id = SNY_pander_to_progressive_senators
        icon = GFX_
        prerequisite = { focus = SNY_jay_lovestone_makes_a_speech}
        x = 0
        y = 1
        relative_position_id = SNY_jay_lovestone_makes_a_speech
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

        completion_reward = {
            add_political_power = 150
            country_event = {
                id = new_york.13
            }
        }
    }
    focus = {
        id = SNY_talk_of_socialist_values
        icon = GFX_
        prerequisite = { focus = SNY_pander_to_progressive_senators}
        x = 0
        y = 1
        relative_position_id = SNY_pander_to_progressive_senators
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            add_popularity = {
                ideology = progressivism
                popularity = 0.1
            }
            add_popularity = {
                ideology = communism
                popularity = 0.07
            }
            country_event = {
                id = new_york.14
            }
        }
    }
    focus = {
        id = SNY_meet_with_union_leaders
        icon = GFX_
        prerequisite = { focus = SNY_jay_lovestone_makes_a_speech}
        x = 2
        y = 1
        relative_position_id = SNY_jay_lovestone_makes_a_speech
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_STABILITY }

        completion_reward = {
            add_stability = 0.05
            country_event = {
                id = new_york.15
            }
        }
    }
    focus = {
        id = SNY_pledge_to_empower_the_workers
        icon = GFX_
        prerequisite = { focus = SNY_meet_with_union_leaders}
        x = 0
        y = 1
        relative_position_id = SNY_meet_with_union_leaders
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_WAR_SUPPORT }

        completion_reward = {
            add_war_support = 0.05
            add_popularity = {
                ideology = communism
                popularity = 0.07
            }
            country_event = {
                id = new_york.17
            }
        }
    }
    focus = {
        id = SNY_charles_poletti_makes_a_speech
        icon = GFX_
        prerequisite = { focus = SNY_postpone_the_elections}
        available = {
            NOT = {
                has_idea = SNY_charles_poletti
            }
        }
        mutually_exclusive = { focus = SNY_jay_lovestone_makes_a_speech}
        mutually_exclusive = { focus = SNY_the_army_makes_a_demonstration}
        x = 0
        y = 1
        relative_position_id = SNY_postpone_the_elections
        cost = 10
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.1
            }
            add_popularity = {
                ideology = progressivism
                popularity = 0.07
            }
            country_event = {
                id = new_york.9
            }
        }
    }
    focus = {
        id = SNY_the_army_makes_a_demonstration
        icon = GFX_
        prerequisite = { focus = SNY_postpone_the_elections}
        available = {
            custom_trigger_tooltip = {
                tooltip = SNY_amry_has_a_lot_of_influence_tt
                OR = {
                    has_country_flag = SNY_army_influence3
                    has_country_flag = SNY_army_influence4
                }
            }
        }
        mutually_exclusive = { focus = SNY_jay_lovestone_makes_a_speech}
        mutually_exclusive = { focus = SNY_charles_poletti_makes_a_speech}
        x = 10
        y = 1
        relative_position_id = SNY_postpone_the_elections
        cost = 10
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = {
                    has_country_flag = SNY_army_influence4
                }
                add_popularity = {
                    ideology = neutrality
                    popularity = 0.15
                }
            } else = {
                add_popularity = {
                    ideology = neutrality
                    popularity = 0.1
                }
            }
            country_event = {
                id = new_york.10
            }
        }
    }
    focus = {
        id = SNY_the_elections_must_continue
        icon = GFX_
        prerequisite = { focus = SNY_the_attack_on_albany}
        mutually_exclusive = { focus = SNY_postpone_the_elections}
        available = {
            OR = {
                has_government = democratic
                has_government = progressivism
            }
        }
        x = 20
        y = 1
        relative_position_id = SNY_the_attack_on_albany
        cost = 10
        ai_will_do = {
            factor = 3
        }
        available_if_capitulated = no

        completion_reward = {
            add_timed_idea = {
                idea = SNY_upheld_democracy
                days = 270
            }
        }
    }
    focus = {
        id = SNY_herbert_lehman_makes_a_speech
        icon = GFX_
        prerequisite = { focus = SNY_the_elections_must_continue}
        mutually_exclusive = { }
        x = -6
        y = 1
        relative_position_id = SNY_the_elections_must_continue
        cost = 10
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.1
            }
            country_event = {
                id = new_york.11
            }
        }
    }
    focus = {
        id = SNY_rockwell_kent_wins_the_election
        icon = GFX_
        mutually_exclusive = { }
        available = {
            always = no
        }
        x = 6
        y = 5
        relative_position_id = SNY_the_elections_must_continue
        cost = 10
        ai_will_do = {
            factor = 0
        }
        available_if_capitulated = no

        completion_reward = {

        }
    }
}