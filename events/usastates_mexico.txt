add_namespace = mexico

country_event = { #trotsky
    id = mexico.1
    title = mexico.1.t
    desc = mexico.1.d
    #picture = 

    is_triggered_only = no
    fire_only_once = yes

    trigger = {
        date > 1937.01.09
        tag = MEX
    }

    option = {
        name = na_mexico.1.a
        ai_chance = {
            factor = 30
            modifier = {
                add = 50
                has_completed_focus = MEX_radical_support
            }
        }
        add_popularity = {
            ideology = communism
            popularity = 0.05
        }
        hidden_effect = {
            set_country_flag = trotsky_accepted
        }
    }
    option = {
        name = mexico.1.b
        ai_chance = {
            factor = 70
            modifier = {
                add = -50
                has_completed_focus = MEX_radical_support
            }
        }
        add_political_power = 25
    }
}
country_event = {#trotsky speech
    id = mexico.2
    title = mexico.2.t
    desc = mexico.2.d
    #picture = 

    is_triggered_only = yes

    trigger = {
        tag = MEX
    }

    option = {
        name = mexico.2.a
        ai_chance = {
            factor = 50
        }
        add_political_power = 50
        add_popularity = {
            ideology = communism
            popularity = 5
        }
    }
    option = {
        name = mexico.2.b
        ai_chance = {
            factor = 50
        }
        add_stability = 0.05
        add_popularity = {
            ideology = communism
            popularity = 5
        }
    }
}
country_event = {#trotsky assassination
    id = mexico.3
    title = mexico.3.t
    desc = mexico.3.d
    #picture = 

    is_triggered_only = no

    trigger = {
        tag = MEX
        date > 1940.08.21
        NOT = {
            has_completed_focus = MEX_assign_trotsky_bodyguards
        }
        has_completed_focus = MEX_trotsky_siezes_power
    }

    option = {
        name = mexico.3.a
        ai_chance = {
            factor = 100
        }
        kill_country_leader = yes
    }
}
country_event = {#riots in Veracruz (MDC)
    id = mexico.4
    title = mexico.4.t
    desc = mexico.4.d
    #picture =

    is_triggered_only = yes

    option = {
        name = mexico.4.a
        ai_chance = {
            factor = 50
        }
        add_popularity = {
            ideology = communism
            popularity = 10
        }
    }
    option = {
        name = mexico.4.b
        ai_chance = {
            factor = 50
        }
        add_political_power = -50
    }
}
country_event = {
    id = mexico.5
    title = mexico.5.t
    desc = mexico.5.d
    #picture = 

    is_triggered_only = yes

    option = {
        name = mexico.5.a
        ai_chance = {
            factor = 75
        }
        add_stability = 0.05
        create_country_leader = {
            name = "The Council of Haciendas"
            picture = ""
            expire = "1965.1.1"
            ideology = oligarchism
        }
        start_civil_war = {
            ruling_party = democratic
            ideology = neutrality
            capital = 475
            states = {
                475 573 548 577 549 578 575 547
            }
        }
    }
    option = {
        name = mexico.5.b
        ai_chance = {
            factor = 25
        }
        custom_effect_tooltip = haciendas_warning_tt
        add_war_support = 0.05
        start_civil_war = {
            ruling_party = neutrality
            ideology = democratic
            capital = 546
            states = {
                546 550 552 553 583 551 582
            }
        }
        set_capital = 475
        hidden_effect = {
            set_country_flag = is_the_haciendas
        }
        create_country_leader = {
            name = "The Council of Haciendas"
            picture = ""
            expire = "1965.1.1"
            ideology = oligarchism
        }
    }
}
country_event = {
    id = mexico.6
    title = mexico.6.t
    desc = mexico.6.d
    #picture

    is_triggered_only = no

    trigger = {
        tag = MEX
        MEX = {
            NOT = {
                has_country_flag = is_the_haciendas
            }
            has_civil_war = yes
            surrender_progress > 0.20
        }
    }

    option = {

    }
}